<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create | Quill</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Josefin+Sans:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Merriweather:ital,wght@0,300;0,400;1,300;1,400&family=Lora:ital,wght@0,400;0,500;1,400;1,500&family=Source+Serif+4:ital,wght@0,300;0,400;1,300;1,400&family=Courier+Prime:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    :root {
        --primary-purple: #8e44ad;
        --vivid-pink: #ff007f;
        --warm-orange: #ff9f43;
        --paper: #ffffff;
        --ink: #1e1e1e;
        --muted-text: #777;
        --border-light: rgba(0,0,0,0.06);
        
        --font-display: 'Libre Baskerville', Georgia, serif;
        --font-body: 'Crimson Pro', Georgia, serif;
        --font-ui: 'Josefin Sans', sans-serif;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
        background-color: #f8f7fc;
        color: var(--ink);
        font-family: var(--font-body);
        min-height: 100vh;
        font-size: 17px;
        line-height: 1.7;
    }

    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, rgba(142, 68, 173, 0.3), rgba(255, 0, 127, 0.3));
        border-radius: 3px;
    }

    /* Header */
    .app-header {
        position: fixed; top: 0; left: 0; right: 0;
        height: 70px;
        display: flex; 
        align-items: center;
        justify-content: space-between;
        padding: 0 2.5rem;
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(20px);
        z-index: 900;
        border-bottom: 1px solid var(--border-light);
    }

    .header-left { flex-shrink: 0; }

    .brand-name {
        font-family: var(--font-display); 
        font-size: 1.7rem; 
        font-weight: 400;
        background: linear-gradient(135deg, var(--primary-purple), var(--vivid-pink));
        -webkit-background-clip: text; 
        -webkit-text-fill-color: transparent;
        letter-spacing: 0.02em;
        text-decoration: none;
    }

    .header-center {
        flex: 1;
        display: flex;
        justify-content: center;
    }

    .page-indicator {
        display: flex;
        align-items: center;
        gap: 10px;
        font-family: var(--font-ui);
        font-size: 0.95rem;
        color: var(--ink);
    }
    .page-indicator i {
        color: var(--primary-purple);
    }

    .header-right { display: flex; align-items: center; gap: 16px; flex-shrink: 0; }

    /* Left Sidebar Navigation */
    .left-sidebar-nav {
        position: fixed;
        left: 0;
        top: 70px;
        bottom: 0;
        width: 220px;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-right: 1px solid rgba(0,0,0,0.04);
        display: flex;
        flex-direction: column;
        padding: 1.5rem 1rem;
        z-index: 100;
    }
    
    .nav-items {
        display: flex;
        flex-direction: column;
        gap: 4px;
        flex: 1;
    }
    
    .nav-item {
        position: relative;
        width: 100%;
        height: 48px;
        border: none;
        background: transparent;
        border-radius: 12px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 14px;
        padding: 0 16px;
        color: var(--muted-text);
        font-family: var(--font-ui);
        font-size: 0.95rem;
        font-weight: 400;
        transition: all 0.3s ease;
        text-align: left;
    }
    .nav-item i { font-size: 1.15rem; width: 24px; text-align: center; }
    .nav-item:hover { color: var(--primary-purple); background: rgba(142, 68, 173, 0.08); }
    .nav-item.active { color: var(--vivid-pink); background: rgba(255, 0, 127, 0.08); font-weight: 500; }
    
    .nav-divider { width: 100%; height: 1px; background: rgba(0,0,0,0.06); margin: 12px 0; }
    
    .nav-item.has-badge { position: relative; }
    .nav-badge {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        right: 16px;
        min-width: 22px;
        height: 22px;
        background: var(--vivid-pink);
        color: white;
        font-family: var(--font-ui);
        font-size: 0.7rem;
        font-weight: 600;
        border-radius: 11px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 6px;
    }
    
    .nav-create {
        width: 100%;
        height: 48px;
        background: linear-gradient(145deg, var(--primary-purple), var(--vivid-pink));
        border-radius: 12px;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        color: white;
        font-family: var(--font-ui);
        font-size: 0.95rem;
        font-weight: 500;
        box-shadow: 0 6px 20px rgba(255, 0, 127, 0.3);
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        margin-top: auto;
    }
    .nav-create:hover { transform: scale(1.02); box-shadow: 0 10px 30px rgba(255, 0, 127, 0.4); }
    
    .nav-profile {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        margin-top: 12px;
        cursor: pointer;
        border-radius: 12px;
        transition: all 0.3s ease;
    }
    .nav-profile:hover { background: rgba(142, 68, 173, 0.06); }
    .nav-profile img { width: 38px; height: 38px; border-radius: 50%; object-fit: cover; border: 2px solid var(--vivid-pink); }
    .nav-profile-info { display: flex; flex-direction: column; gap: 2px; }
    .nav-profile-name { font-family: var(--font-ui); font-size: 0.9rem; font-weight: 500; color: var(--ink); }
    .nav-profile-handle { font-family: var(--font-body); font-size: 0.8rem; color: var(--muted-text); }

    /* Main Content Area */
    .create-container {
        margin-left: 220px;
        padding-top: 70px;
        min-height: 100vh;
        display: flex;
        justify-content: center;
    }

    .editor-area {
        width: 100%;
        max-width: 920px;
        padding: 2.5rem 3rem;
    }

    /* Page Header */
    .page-header {
        text-align: center;
        margin-bottom: 2rem;
    }
    .page-title {
        font-family: var(--font-display);
        font-size: 1.8rem;
        color: var(--ink);
        margin-bottom: 0.5rem;
    }
    .page-subtitle {
        font-family: var(--font-body);
        font-size: 1rem;
        color: var(--muted-text);
        font-style: italic;
    }

    /* Post Type Selector */
    .type-selector {
        display: flex;
        gap: 10px;
        margin-bottom: 2rem;
        flex-wrap: wrap;
        justify-content: center;
    }

    .type-chip {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 18px;
        border-radius: 25px;
        border: 1.5px solid var(--border-light);
        background: white;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: var(--font-ui);
        font-size: 0.85rem;
        color: var(--muted-text);
    }
    .type-chip:hover { border-color: var(--primary-purple); color: var(--primary-purple); }
    .type-chip.active {
        background: linear-gradient(135deg, var(--primary-purple), var(--vivid-pink));
        border-color: transparent;
        color: white;
        box-shadow: 0 4px 15px rgba(142, 68, 173, 0.25);
    }
    .type-chip i { font-size: 0.9rem; }

    .editor-card {
        background: white;
        border-radius: 24px;
        padding: 2.5rem;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.06);
        border: 1px solid var(--border-light);
    }

    /* Title Input */
    .title-input {
        width: 100%;
        border: none;
        outline: none;
        font-family: var(--font-display);
        font-size: 2rem;
        color: var(--ink);
        margin-bottom: 1.5rem;
        padding: 0;
        background: transparent;
    }
    .title-input::placeholder { color: #ccc; }

    /* Content Editor */
    .content-editor {
        width: 100%;
        min-height: 300px;
        border: none;
        outline: none;
        font-family: var(--font-body);
        font-size: 1.15rem;
        line-height: 1.9;
        color: var(--ink);
        resize: none;
        background: transparent;
    }
    .content-editor::placeholder { color: #bbb; font-style: italic; }

    /* Enhanced Formatting Toolbar */
    .format-toolbar {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 16px 0;
        border-top: 1px solid var(--border-light);
        margin-top: 1.5rem;
        flex-wrap: wrap;
    }

    .format-group {
        display: flex;
        align-items: center;
        background: #f5f5f5;
        border-radius: 12px;
        padding: 4px;
        gap: 2px;
    }

    .format-btn {
        width: 36px;
        height: 36px;
        border: none;
        background: transparent;
        border-radius: 8px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #666;
        font-size: 0.85rem;
        transition: all 0.2s ease;
        position: relative;
    }
    .format-btn:hover { background: white; color: var(--primary-purple); box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
    .format-btn.active { background: white; color: var(--vivid-pink); box-shadow: 0 2px 8px rgba(255, 0, 127, 0.15); }

    .format-btn .tooltip {
        position: absolute;
        bottom: calc(100% + 10px);
        left: 50%;
        transform: translateX(-50%);
        background: var(--ink);
        color: white;
        font-family: var(--font-ui);
        font-size: 0.7rem;
        padding: 8px 12px;
        border-radius: 8px;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: all 0.2s ease;
        pointer-events: none;
        z-index: 100;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    .format-btn .tooltip::after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        border: 6px solid transparent;
        border-top-color: var(--ink);
    }
    .format-btn:hover .tooltip { opacity: 1; visibility: visible; }

    .format-spacer { width: 6px; }

    /* Beautiful Dropdown Styles */
    .dropdown-wrapper {
        position: relative;
    }

    .dropdown-trigger {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 14px;
        background: #f5f5f5;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-family: var(--font-ui);
        font-size: 0.85rem;
        color: #555;
        transition: all 0.3s ease;
        min-width: 140px;
    }
    .dropdown-trigger:hover {
        background: white;
        box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    }
    .dropdown-trigger.open {
        background: white;
        box-shadow: 0 4px 20px rgba(142, 68, 173, 0.15);
        color: var(--primary-purple);
    }
    .dropdown-trigger i.fa-chevron-down {
        margin-left: auto;
        font-size: 0.7rem;
        transition: transform 0.3s ease;
    }
    .dropdown-trigger.open i.fa-chevron-down { transform: rotate(180deg); }

    .dropdown-menu {
        position: absolute;
        top: calc(100% + 8px);
        left: 0;
        background: white;
        border-radius: 16px;
        box-shadow: 0 15px 50px rgba(0,0,0,0.15), 0 0 0 1px rgba(0,0,0,0.03);
        padding: 8px;
        z-index: 200;
        min-width: 220px;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .dropdown-menu.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .dropdown-header {
        padding: 10px 14px 8px;
        font-family: var(--font-ui);
        font-size: 0.7rem;
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        color: var(--muted-text);
    }

    .dropdown-item {
        display: flex;
        align-items: center;
        gap: 12px;
        width: 100%;
        padding: 12px 14px;
        border: none;
        background: transparent;
        border-radius: 10px;
        cursor: pointer;
        text-align: left;
        font-size: 0.95rem;
        color: var(--ink);
        transition: all 0.2s ease;
    }
    .dropdown-item:hover {
        background: linear-gradient(135deg, rgba(142, 68, 173, 0.08), rgba(255, 0, 127, 0.05));
    }
    .dropdown-item.active {
        background: linear-gradient(135deg, rgba(142, 68, 173, 0.12), rgba(255, 0, 127, 0.08));
        color: var(--primary-purple);
    }
    .dropdown-item i {
        width: 20px;
        text-align: center;
        color: var(--primary-purple);
        font-size: 0.85rem;
    }
    .dropdown-item .item-preview {
        font-size: 0.8rem;
        color: var(--muted-text);
        margin-left: auto;
    }

    .dropdown-divider {
        height: 1px;
        background: var(--border-light);
        margin: 8px 0;
    }

    /* Font Preview in Dropdown */
    .font-preview { font-size: 1rem; }
    .font-preview.serif { font-family: 'Libre Baskerville', serif; }
    .font-preview.playfair { font-family: 'Playfair Display', serif; }
    .font-preview.merriweather { font-family: 'Merriweather', serif; }
    .font-preview.lora { font-family: 'Lora', serif; }
    .font-preview.source { font-family: 'Source Serif 4', serif; }
    .font-preview.crimson { font-family: 'Crimson Pro', serif; }
    .font-preview.josefin { font-family: 'Josefin Sans', sans-serif; }
    .font-preview.courier { font-family: 'Courier Prime', monospace; }

    /* Color Picker Enhanced */
    .color-picker-wrapper { position: relative; }
    .color-btn {
        width: 36px;
        height: 36px;
        border: none;
        background: #f5f5f5;
        border-radius: 8px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
    }
    .color-btn:hover { background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
    .color-indicator {
        width: 20px;
        height: 20px;
        border-radius: 6px;
        background: var(--ink);
        border: 2px solid white;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    .color-dropdown {
        position: absolute;
        top: calc(100% + 8px);
        left: 50%;
        transform: translateX(-50%) translateY(-10px);
        background: white;
        border-radius: 16px;
        box-shadow: 0 15px 50px rgba(0,0,0,0.15);
        padding: 16px;
        z-index: 200;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .color-dropdown.show {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0);
    }

    .color-section-title {
        font-family: var(--font-ui);
        font-size: 0.7rem;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--muted-text);
        margin-bottom: 10px;
    }

    .color-grid {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        gap: 8px;
        margin-bottom: 12px;
    }
    .color-swatch {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        border: 3px solid transparent;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .color-swatch:hover { transform: scale(1.15); }
    .color-swatch.active { border-color: var(--ink); transform: scale(1.1); }

    /* Screenplay & Poetry Formatting Section */
    .special-format-section {
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid var(--border-light);
    }

    .format-tabs {
        display: flex;
        gap: 4px;
        margin-bottom: 12px;
        background: #f5f5f5;
        border-radius: 10px;
        padding: 4px;
    }

    .format-tab {
        flex: 1;
        padding: 10px 16px;
        border: none;
        background: transparent;
        border-radius: 8px;
        cursor: pointer;
        font-family: var(--font-ui);
        font-size: 0.8rem;
        font-weight: 500;
        color: var(--muted-text);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }
    .format-tab:hover { color: var(--ink); }
    .format-tab.active {
        background: white;
        color: var(--primary-purple);
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .format-panel {
        display: none;
        gap: 8px;
        flex-wrap: wrap;
    }
    .format-panel.active { display: flex; }

    .special-btn {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 16px;
        border: 1px solid var(--border-light);
        background: white;
        border-radius: 10px;
        cursor: pointer;
        font-family: var(--font-ui);
        font-size: 0.8rem;
        color: #555;
        transition: all 0.25s ease;
    }
    .special-btn:hover {
        border-color: var(--primary-purple);
        color: var(--primary-purple);
        background: rgba(142, 68, 173, 0.04);
    }
    .special-btn.active {
        border-color: var(--vivid-pink);
        color: var(--vivid-pink);
        background: rgba(255, 0, 127, 0.06);
    }
    .special-btn i { font-size: 0.9rem; }

    /* Media Upload Section */
    .media-section {
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 1px solid var(--border-light);
    }

    .section-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
    }

    .section-label {
        font-family: var(--font-ui);
        font-size: 0.8rem;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--muted-text);
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .section-label i { color: var(--primary-purple); }

    .media-upload-area {
        border: 2px dashed rgba(142, 68, 173, 0.25);
        border-radius: 20px;
        padding: 2.5rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        background: linear-gradient(135deg, rgba(142, 68, 173, 0.02), rgba(255, 0, 127, 0.02));
    }
    .media-upload-area:hover {
        border-color: var(--primary-purple);
        background: linear-gradient(135deg, rgba(142, 68, 173, 0.05), rgba(255, 0, 127, 0.03));
    }
    .media-upload-area.dragover {
        border-color: var(--vivid-pink);
        background: linear-gradient(135deg, rgba(255, 0, 127, 0.08), rgba(142, 68, 173, 0.05));
        transform: scale(1.01);
    }

    .upload-icon {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary-purple), var(--vivid-pink));
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.25rem;
        font-size: 1.6rem;
        color: white;
        box-shadow: 0 8px 25px rgba(142, 68, 173, 0.3);
    }

    .upload-text { font-family: var(--font-ui); font-size: 1rem; color: var(--ink); margin-bottom: 0.5rem; }
    .upload-hint { font-family: var(--font-body); font-size: 0.9rem; color: var(--muted-text); }

    .media-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 1rem;
        margin-top: 1.5rem;
    }

    .media-item {
        position: relative;
        aspect-ratio: 1;
        border-radius: 16px;
        overflow: hidden;
        background: #f5f5f5;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        transition: all 0.3s ease;
    }
    .media-item:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.12); }
    .media-item img, .media-item video { width: 100%; height: 100%; object-fit: cover; }
    .media-item .media-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 60%);
        opacity: 0;
        transition: opacity 0.3s ease;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 12px;
    }
    .media-item:hover .media-overlay { opacity: 1; }
    
    .media-caption-input {
        width: 100%;
        padding: 10px 12px;
        border: none;
        border-radius: 10px;
        background: rgba(255,255,255,0.95);
        font-family: var(--font-body);
        font-size: 0.85rem;
        outline: none;
    }
    
    .media-remove {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        border: none;
        background: rgba(0,0,0,0.6);
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.85rem;
        opacity: 0;
        transition: all 0.3s ease;
    }
    .media-item:hover .media-remove { opacity: 1; }
    .media-remove:hover { background: #e74c3c; transform: scale(1.1); }

    .media-order {
        position: absolute;
        top: 10px;
        left: 10px;
        width: 26px;
        height: 26px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary-purple), var(--vivid-pink));
        color: white;
        font-family: var(--font-ui);
        font-size: 0.75rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Voice Recording */
    .voice-section {
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 1px solid var(--border-light);
    }

    .voice-recorder {
        background: linear-gradient(135deg, rgba(0, 188, 212, 0.06), rgba(0, 151, 167, 0.03));
        border: 1px solid rgba(0, 188, 212, 0.15);
        border-radius: 20px;
        padding: 1.5rem 2rem;
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .record-btn {
        width: 64px;
        height: 64px;
        border-radius: 50%;
        border: none;
        background: linear-gradient(135deg, #00bcd4, #0097a7);
        color: white;
        font-size: 1.4rem;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 6px 20px rgba(0, 188, 212, 0.35);
        flex-shrink: 0;
    }
    .record-btn:hover { transform: scale(1.08); }
    .record-btn.recording {
        background: linear-gradient(135deg, #e74c3c, #c0392b);
        animation: pulse-record 1.5s infinite;
    }
    @keyframes pulse-record {
        0%, 100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.4); }
        50% { box-shadow: 0 0 0 15px rgba(231, 76, 60, 0); }
    }

    .voice-info { flex: 1; }
    .voice-status { font-family: var(--font-ui); font-size: 1rem; color: var(--ink); margin-bottom: 4px; }
    .voice-duration { font-family: var(--font-ui); font-size: 2rem; font-weight: 300; color: #00bcd4; }

    .voice-waveform {
        flex: 1;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 3px;
    }
    .wave-bar {
        width: 4px;
        background: linear-gradient(to top, #00bcd4, #0097a7);
        border-radius: 2px;
    }

    .recorded-audio {
        margin-top: 1rem;
        background: white;
        border-radius: 16px;
        padding: 1.25rem;
        display: flex;
        align-items: center;
        gap: 1rem;
        border: 1px solid var(--border-light);
    }
    .audio-play-btn {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        border: none;
        background: linear-gradient(135deg, #00bcd4, #0097a7);
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.1rem;
        flex-shrink: 0;
    }
    .audio-progress { flex: 1; height: 8px; background: #eee; border-radius: 4px; overflow: hidden; }
    .audio-progress-fill { height: 100%; width: 35%; background: linear-gradient(90deg, #00bcd4, #0097a7); border-radius: 4px; }
    .audio-time { font-family: var(--font-ui); font-size: 0.9rem; color: var(--muted-text); }
    .audio-delete {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: none;
        background: rgba(231, 76, 60, 0.08);
        color: #e74c3c;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .audio-delete:hover { background: #e74c3c; color: white; }

    /* Tags Section */
    .tags-section {
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 1px solid var(--border-light);
    }

    .tags-container {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        padding: 14px;
        background: #fafafa;
        border-radius: 14px;
        min-height: 54px;
        cursor: text;
        border: 2px solid transparent;
        transition: all 0.3s ease;
    }
    .tags-container:focus-within {
        border-color: var(--primary-purple);
        background: white;
        box-shadow: 0 0 0 4px rgba(142, 68, 173, 0.08);
    }

    .tag {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        background: linear-gradient(135deg, rgba(142, 68, 173, 0.1), rgba(255, 0, 127, 0.08));
        border-radius: 20px;
        font-family: var(--font-ui);
        font-size: 0.85rem;
        color: var(--primary-purple);
    }
    .tag-remove {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        border: none;
        background: rgba(142, 68, 173, 0.2);
        color: var(--primary-purple);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.65rem;
        transition: all 0.2s ease;
    }
    .tag-remove:hover { background: var(--vivid-pink); color: white; }

    .tag-input {
        border: none;
        outline: none;
        background: transparent;
        font-family: var(--font-ui);
        font-size: 0.9rem;
        color: var(--ink);
        min-width: 100px;
        flex: 1;
    }
    .tag-input::placeholder { color: #aaa; }

    .suggested-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 12px;
    }
    .suggested-tag {
        padding: 6px 14px;
        border-radius: 18px;
        border: 1px solid var(--border-light);
        background: white;
        font-family: var(--font-ui);
        font-size: 0.8rem;
        color: var(--muted-text);
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .suggested-tag:hover { border-color: var(--primary-purple); color: var(--primary-purple); }

    /* Settings Grid */
    .settings-section {
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 1px solid var(--border-light);
    }

    .settings-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }

    .setting-card {
        background: #fafafa;
        border-radius: 16px;
        padding: 1.25rem;
        transition: all 0.3s ease;
    }
    .setting-card:hover { background: #f5f5f5; }
    .setting-card.full-width { grid-column: span 2; }

    .setting-title {
        font-family: var(--font-ui);
        font-size: 0.75rem;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--muted-text);
        margin-bottom: 0.75rem;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .setting-title i { color: var(--primary-purple); }

    .setting-select {
        width: 100%;
        padding: 12px 16px;
        border: 1px solid var(--border-light);
        border-radius: 12px;
        background: white;
        font-family: var(--font-ui);
        font-size: 0.9rem;
        color: var(--ink);
        cursor: pointer;
        outline: none;
        transition: all 0.3s ease;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23777' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 14px center;
    }
    .setting-select:focus { border-color: var(--primary-purple); }

    /* Schedule Toggle & DateTime */
    .schedule-wrapper {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .schedule-toggle {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .schedule-toggle span { font-family: var(--font-ui); font-size: 0.9rem; color: var(--ink); }
    
    .toggle-switch {
        width: 50px;
        height: 28px;
        background: #ddd;
        border-radius: 14px;
        position: relative;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .toggle-switch.active { background: linear-gradient(135deg, var(--primary-purple), var(--vivid-pink)); }
    .toggle-switch::after {
        content: '';
        position: absolute;
        width: 24px;
        height: 24px;
        background: white;
        border-radius: 50%;
        top: 2px;
        left: 2px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    .toggle-switch.active::after { left: 24px; }

    .datetime-picker {
        display: none;
        gap: 12px;
    }
    .datetime-picker.show { display: flex; }

    .datetime-field {
        flex: 1;
    }
    .datetime-label {
        font-family: var(--font-ui);
        font-size: 0.75rem;
        color: var(--muted-text);
        margin-bottom: 6px;
        display: block;
    }
    .datetime-input {
        width: 100%;
        padding: 12px 14px;
        border: 1px solid var(--border-light);
        border-radius: 10px;
        font-family: var(--font-ui);
        font-size: 0.9rem;
        color: var(--ink);
        outline: none;
        transition: all 0.3s ease;
    }
    .datetime-input:focus {
        border-color: var(--primary-purple);
        box-shadow: 0 0 0 3px rgba(142, 68, 173, 0.08);
    }

    /* Content Warning */
    .content-warning-card {
        background: linear-gradient(135deg, rgba(231, 76, 60, 0.04), rgba(192, 57, 43, 0.02));
        border: 1px solid rgba(231, 76, 60, 0.12);
    }

    .cw-toggle-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .cw-label {
        display: flex;
        align-items: center;
        gap: 10px;
        font-family: var(--font-ui);
        font-size: 0.9rem;
        color: var(--ink);
    }
    .cw-label i { color: #e74c3c; }

    .cw-input-wrapper {
        display: none;
        margin-top: 12px;
    }
    .cw-input-wrapper.show { display: block; }

    .cw-input {
        width: 100%;
        padding: 12px 14px;
        border: 1px solid rgba(231, 76, 60, 0.2);
        border-radius: 10px;
        font-family: var(--font-body);
        font-size: 0.95rem;
        color: var(--ink);
        outline: none;
        transition: all 0.3s ease;
    }
    .cw-input:focus { border-color: #e74c3c; }
    .cw-input::placeholder { color: #ccc; }

    .cw-presets {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 10px;
    }
    .cw-preset {
        padding: 5px 12px;
        border-radius: 15px;
        border: 1px solid rgba(231, 76, 60, 0.15);
        background: white;
        font-family: var(--font-ui);
        font-size: 0.75rem;
        color: #e74c3c;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    .cw-preset:hover {
        background: rgba(231, 76, 60, 0.08);
        border-color: rgba(231, 76, 60, 0.3);
    }

    /* Character Count */
    .char-count {
        text-align: right;
        font-family: var(--font-ui);
        font-size: 0.85rem;
        color: var(--muted-text);
        margin-top: 1.5rem;
    }
    .char-count.warning { color: #f39c12; }
    .char-count.danger { color: #e74c3c; }

    /* Action Buttons */
    .action-buttons {
        margin-top: 2.5rem;
        padding-top: 2rem;
        border-top: 1px solid var(--border-light);
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .action-left { display: flex; gap: 12px; }

    .btn-secondary {
        padding: 14px 28px;
        border-radius: 30px;
        border: 1.5px solid var(--border-light);
        background: white;
        color: var(--muted-text);
        font-family: var(--font-ui);
        font-size: 0.95rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .btn-secondary:hover { border-color: var(--primary-purple); color: var(--primary-purple); }

    .btn-outline {
        padding: 14px 28px;
        border-radius: 30px;
        border: 1.5px solid var(--primary-purple);
        background: transparent;
        color: var(--primary-purple);
        font-family: var(--font-ui);
        font-size: 0.95rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .btn-outline:hover { background: rgba(142, 68, 173, 0.08); }

    .btn-publish {
        padding: 16px 40px;
        border-radius: 30px;
        border: none;
        background: linear-gradient(135deg, var(--primary-purple), var(--vivid-pink));
        color: white;
        font-family: var(--font-ui);
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 6px 25px rgba(142, 68, 173, 0.35);
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .btn-publish:hover { transform: translateY(-3px); box-shadow: 0 10px 35px rgba(142, 68, 173, 0.45); }

    /* Responsive */
    @media (max-width: 1100px) {
        .left-sidebar-nav { width: 70px; padding: 1.5rem 0.75rem; }
        .nav-item { justify-content: center; padding: 0; }
        .nav-item span:not(.nav-badge) { display: none; }
        .nav-badge { top: 6px; right: 6px; }
        .nav-create span { display: none; }
        .nav-create { justify-content: center; }
        .nav-profile { padding: 8px; justify-content: center; }
        .nav-profile-info { display: none; }
        .create-container { margin-left: 70px; }
    }

    @media (max-width: 768px) {
        .left-sidebar-nav { display: none; }
        .create-container { margin-left: 0; }
        .editor-area { padding: 1.5rem; }
        .settings-grid { grid-template-columns: 1fr; }
        .setting-card.full-width { grid-column: span 1; }
        .action-buttons { flex-direction: column; gap: 1rem; }
        .action-left { width: 100%; justify-content: center; }
        .btn-publish { width: 100%; justify-content: center; }
        .format-toolbar { gap: 4px; }
        .type-chip { padding: 8px 14px; font-size: 0.8rem; }
    }
</style>
</head>
<body>

<!-- Header -->
<header class="app-header">
    <div class="header-left">
        <a href="#" class="brand-name">Quill</a>
    </div>
    
    <div class="header-center">
        <div class="page-indicator">
            <i class="fas fa-feather-alt"></i>
            <span>Create New Post</span>
        </div>
    </div>
    
    <div class="header-right"></div>
</header>

<!-- Left Sidebar Navigation -->
<nav class="left-sidebar-nav">
    <div class="nav-items">
        <button class="nav-item">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </button>
        <button class="nav-item">
            <i class="fas fa-compass"></i>
            <span>Explore</span>
        </button>
        <button class="nav-item">
            <i class="fas fa-fire"></i>
            <span>Trending</span>
        </button>
        <button class="nav-item">
            <i class="fas fa-bookmark"></i>
            <span>Saved</span>
        </button>
        <button class="nav-item">
            <i class="fas fa-users"></i>
            <span>Groups</span>
        </button>
        
        <div class="nav-divider"></div>
        
        <button class="nav-item has-badge">
            <i class="fas fa-bell"></i>
            <span>Notifications</span>
            <span class="nav-badge">3</span>
        </button>
        <button class="nav-item">
            <i class="fas fa-paper-plane"></i>
            <span>Messages</span>
        </button>
    </div>
    
    <button class="nav-create">
        <i class="fas fa-feather-alt"></i>
        <span>Create</span>
    </button>
    
    <div class="nav-profile">
        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80" alt="Profile">
        <div class="nav-profile-info">
            <span class="nav-profile-name">Sofia Ray</span>
            <span class="nav-profile-handle">@sofiaray</span>
        </div>
    </div>
</nav>

<div class="create-container">
    <main class="editor-area">
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="page-title">Create New Post</h1>
            <p class="page-subtitle">Share your thoughts with the world</p>
        </div>

        <!-- Post Type Selector -->
        <div class="type-selector">
            <button class="type-chip active" onclick="selectType(this, 'poem')">
                <i class="fas fa-feather"></i> Poem
            </button>
            <button class="type-chip" onclick="selectType(this, 'journal')">
                <i class="fas fa-book-open"></i> Journal
            </button>
            <button class="type-chip" onclick="selectType(this, 'essay')">
                <i class="fas fa-scroll"></i> Essay
            </button>
            <button class="type-chip" onclick="selectType(this, 'screenplay')">
                <i class="fas fa-film"></i> Screenplay
            </button>
            <button class="type-chip" onclick="selectType(this, 'story')">
                <i class="fas fa-book"></i> Story
            </button>
            <button class="type-chip" onclick="selectType(this, 'letter')">
                <i class="fas fa-envelope-open-text"></i> Letter
            </button>
            <button class="type-chip" onclick="selectType(this, 'thought')">
                <i class="fas fa-lightbulb"></i> Thought
            </button>
            <button class="type-chip" onclick="selectType(this, 'quote')">
                <i class="fas fa-quote-left"></i> Quote
            </button>
            <button class="type-chip" onclick="selectType(this, 'visual')">
                <i class="fas fa-images"></i> Visual
            </button>
        </div>

        <div class="editor-card">
            <input type="text" class="title-input" placeholder="Give your creation a title..." id="titleInput">
            
            <textarea class="content-editor" placeholder="Let your thoughts flow freely..." id="contentEditor"></textarea>
            
            <!-- Formatting Toolbar -->
            <div class="format-toolbar">
                <!-- Font Dropdown -->
                <div class="dropdown-wrapper">
                    <button class="dropdown-trigger" onclick="toggleDropdown('fontDropdown', this)">
                        <i class="fas fa-font"></i>
                        <span id="currentFont">Libre Baskerville</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-menu" id="fontDropdown">
                        <div class="dropdown-header">Serif Fonts</div>
                        <button class="dropdown-item active" onclick="selectFont('Libre Baskerville', this)">
                            <span class="font-preview serif">Libre Baskerville</span>
                        </button>
                        <button class="dropdown-item" onclick="selectFont('Playfair Display', this)">
                            <span class="font-preview playfair">Playfair Display</span>
                        </button>
                        <button class="dropdown-item" onclick="selectFont('Merriweather', this)">
                            <span class="font-preview merriweather">Merriweather</span>
                        </button>
                        <button class="dropdown-item" onclick="selectFont('Lora', this)">
                            <span class="font-preview lora">Lora</span>
                        </button>
                        <button class="dropdown-item" onclick="selectFont('Source Serif 4', this)">
                            <span class="font-preview source">Source Serif 4</span>
                        </button>
                        <button class="dropdown-item" onclick="selectFont('Crimson Pro', this)">
                            <span class="font-preview crimson">Crimson Pro</span>
                        </button>
                        <div class="dropdown-divider"></div>
                        <div class="dropdown-header">Sans & Mono</div>
                        <button class="dropdown-item" onclick="selectFont('Josefin Sans', this)">
                            <span class="font-preview josefin">Josefin Sans</span>
                        </button>
                        <button class="dropdown-item" onclick="selectFont('Courier Prime', this)">
                            <span class="font-preview courier">Courier Prime</span>
                            <span class="item-preview">Screenplay</span>
                        </button>
                    </div>
                </div>

                <!-- Size Dropdown -->
                <div class="dropdown-wrapper">
                    <button class="dropdown-trigger" onclick="toggleDropdown('sizeDropdown', this)" style="min-width:90px">
                        <span id="currentSize">16px</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-menu" id="sizeDropdown" style="min-width:120px">
                        <button class="dropdown-item" onclick="selectSize('12px', this)"><span style="font-size:12px">12px - Small</span></button>
                        <button class="dropdown-item" onclick="selectSize('14px', this)"><span style="font-size:14px">14px</span></button>
                        <button class="dropdown-item active" onclick="selectSize('16px', this)"><span style="font-size:16px">16px - Default</span></button>
                        <button class="dropdown-item" onclick="selectSize('18px', this)"><span style="font-size:18px">18px</span></button>
                        <button class="dropdown-item" onclick="selectSize('20px', this)"><span style="font-size:20px">20px</span></button>
                        <button class="dropdown-item" onclick="selectSize('24px', this)"><span style="font-size:24px">24px - Large</span></button>
                        <button class="dropdown-item" onclick="selectSize('28px', this)"><span style="font-size:28px">28px</span></button>
                    </div>
                </div>

                <!-- Line Height Dropdown -->
                <div class="dropdown-wrapper">
                    <button class="dropdown-trigger" onclick="toggleDropdown('lineDropdown', this)" style="min-width:80px">
                        <i class="fas fa-arrows-alt-v"></i>
                        <span id="currentLine">1.8</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-menu" id="lineDropdown" style="min-width:150px">
                        <div class="dropdown-header">Line Spacing</div>
                        <button class="dropdown-item" onclick="selectLineHeight('1.2', this)">1.2 - Tight</button>
                        <button class="dropdown-item" onclick="selectLineHeight('1.5', this)">1.5 - Normal</button>
                        <button class="dropdown-item active" onclick="selectLineHeight('1.8', this)">1.8 - Relaxed</button>
                        <button class="dropdown-item" onclick="selectLineHeight('2.0', this)">2.0 - Double</button>
                        <button class="dropdown-item" onclick="selectLineHeight('2.5', this)">2.5 - Poetry</button>
                        <button class="dropdown-item" onclick="selectLineHeight('3.0', this)">3.0 - Screenplay</button>
                    </div>
                </div>

                <div class="format-spacer"></div>

                <!-- Text Style -->
                <div class="format-group">
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-bold"></i>
                        <span class="tooltip">Bold</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-italic"></i>
                        <span class="tooltip">Italic</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-underline"></i>
                        <span class="tooltip">Underline</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-strikethrough"></i>
                        <span class="tooltip">Strikethrough</span>
                    </button>
                </div>

                <div class="format-spacer"></div>

                <!-- Headings -->
                <div class="format-group">
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <span style="font-weight:700;font-size:0.85rem">H1</span>
                        <span class="tooltip">Heading 1</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <span style="font-weight:700;font-size:0.75rem">H2</span>
                        <span class="tooltip">Heading 2</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <span style="font-weight:700;font-size:0.65rem">H3</span>
                        <span class="tooltip">Heading 3</span>
                    </button>
                </div>

                <div class="format-spacer"></div>

                <!-- Lists & Quote -->
                <div class="format-group">
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-list-ul"></i>
                        <span class="tooltip">Bullet List</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-list-ol"></i>
                        <span class="tooltip">Numbered List</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-quote-right"></i>
                        <span class="tooltip">Block Quote</span>
                    </button>
                </div>

                <div class="format-spacer"></div>

                <!-- Alignment -->
                <div class="format-group">
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-align-left"></i>
                        <span class="tooltip">Align Left</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-align-center"></i>
                        <span class="tooltip">Center</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-align-right"></i>
                        <span class="tooltip">Align Right</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-align-justify"></i>
                        <span class="tooltip">Justify</span>
                    </button>
                </div>

                <div class="format-spacer"></div>

                <!-- Color Picker -->
                <div class="color-picker-wrapper">
                    <button class="color-btn" onclick="toggleDropdown('colorDropdown', this)">
                        <div class="color-indicator" id="colorIndicator"></div>
                    </button>
                    <div class="dropdown-menu color-dropdown" id="colorDropdown" style="width:220px">
                        <div class="color-section-title">Text Color</div>
                        <div class="color-grid">
                            <button class="color-swatch active" style="background:#1e1e1e" onclick="selectColor('#1e1e1e', this)"></button>
                            <button class="color-swatch" style="background:#555" onclick="selectColor('#555', this)"></button>
                            <button class="color-swatch" style="background:#888" onclick="selectColor('#888', this)"></button>
                            <button class="color-swatch" style="background:#e74c3c" onclick="selectColor('#e74c3c', this)"></button>
                            <button class="color-swatch" style="background:#e91e63" onclick="selectColor('#e91e63', this)"></button>
                            <button class="color-swatch" style="background:#9b59b6" onclick="selectColor('#9b59b6', this)"></button>
                            <button class="color-swatch" style="background:#3498db" onclick="selectColor('#3498db', this)"></button>
                            <button class="color-swatch" style="background:#00bcd4" onclick="selectColor('#00bcd4', this)"></button>
                            <button class="color-swatch" style="background:#1abc9c" onclick="selectColor('#1abc9c', this)"></button>
                            <button class="color-swatch" style="background:#2ecc71" onclick="selectColor('#2ecc71', this)"></button>
                            <button class="color-swatch" style="background:#f39c12" onclick="selectColor('#f39c12', this)"></button>
                            <button class="color-swatch" style="background:#ff9f43" onclick="selectColor('#ff9f43', this)"></button>
                        </div>
                    </div>
                </div>

                <div class="format-spacer"></div>

                <!-- Insert -->
                <div class="format-group">
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-link"></i>
                        <span class="tooltip">Insert Link</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-minus"></i>
                        <span class="tooltip">Divider</span>
                    </button>
                    <button class="format-btn" onclick="toggleFormat(this)">
                        <i class="fas fa-code"></i>
                        <span class="tooltip">Code</span>
                    </button>
                </div>
            </div>

            <!-- Special Formatting for Poetry & Screenplay -->
            <div class="special-format-section">
                <div class="format-tabs">
                    <button class="format-tab active" onclick="switchFormatTab('poetry', this)">
                        <i class="fas fa-feather"></i> Poetry
                    </button>
                    <button class="format-tab" onclick="switchFormatTab('screenplay', this)">
                        <i class="fas fa-film"></i> Screenplay
                    </button>
                    <button class="format-tab" onclick="switchFormatTab('advanced', this)">
                        <i class="fas fa-sliders-h"></i> Advanced
                    </button>
                </div>

                <!-- Poetry Panel -->
                <div class="format-panel active" id="poetryPanel">
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-paragraph"></i> Stanza Break
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-indent"></i> Indent Line
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-text-width"></i> Hanging Indent
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-ellipsis-h"></i> Caesura (pause)
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-water"></i> Enjambment
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-sort-numeric-down"></i> Line Numbers
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-font"></i> Drop Cap
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-text-height"></i> Small Caps
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-star"></i> Epigraph
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-heading"></i> Canto Title
                    </button>
                </div>

                <!-- Screenplay Panel -->
                <div class="format-panel" id="screenplayPanel">
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-door-open"></i> INT. Scene
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-tree"></i> EXT. Scene
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-user"></i> Character Name
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-comment"></i> Dialogue
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-brackets-curly"></i> Parenthetical
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-align-justify"></i> Action
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-exchange-alt"></i> Transition
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-sun"></i> DAY
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-moon"></i> NIGHT
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-cut"></i> CUT TO:
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-video"></i> FADE IN:
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-square"></i> FADE OUT.
                    </button>
                </div>

                <!-- Advanced Panel -->
                <div class="format-panel" id="advancedPanel">
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-text-width"></i> Letter Spacing
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-arrows-alt-h"></i> Word Spacing
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-subscript"></i> Subscript
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-superscript"></i> Superscript
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-highlighter"></i> Highlight
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-eraser"></i> Clear Format
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-columns"></i> Two Columns
                    </button>
                    <button class="special-btn" onclick="this.classList.toggle('active')">
                        <i class="fas fa-border-all"></i> Add Border
                    </button>
                </div>
            </div>

            <!-- Media Upload -->
            <div class="media-section">
                <div class="section-header">
                    <div class="section-label">
                        <i class="fas fa-image"></i> Media Attachments
                    </div>
                </div>
                <div class="media-upload-area" id="mediaUpload" onclick="document.getElementById('fileInput').click()">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">Drop files here or click to upload</div>
                    <div class="upload-hint">Images, videos, GIFs  Max 50MB each</div>
                </div>
                <input type="file" id="fileInput" multiple accept="image/*,video/*" style="display:none" onchange="handleFileUpload(event)">
                <div class="media-grid" id="mediaGrid"></div>
            </div>

            <!-- Voice Recording -->
            <div class="voice-section">
                <div class="section-header">
                    <div class="section-label">
                        <i class="fas fa-microphone"></i> Voice Recording
                    </div>
                </div>
                <div class="voice-recorder">
                    <button class="record-btn" id="recordBtn" onclick="toggleRecording()">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <div class="voice-info">
                        <div class="voice-status" id="voiceStatus">Tap to start recording</div>
                        <div class="voice-duration" id="voiceDuration">0:00</div>
                    </div>
                    <div class="voice-waveform" id="waveform"></div>
                </div>
                <div class="recorded-audio" id="recordedAudio" style="display:none">
                    <button class="audio-play-btn" onclick="togglePlayback()">
                        <i class="fas fa-play" id="playIcon"></i>
                    </button>
                    <div class="audio-progress">
                        <div class="audio-progress-fill"></div>
                    </div>
                    <span class="audio-time">0:00 / 3:45</span>
                    <button class="audio-delete" onclick="deleteRecording()">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>

            <!-- Tags Section -->
            <div class="tags-section">
                <div class="section-header">
                    <div class="section-label">
                        <i class="fas fa-tags"></i> Tags
                    </div>
                </div>
                <div class="tags-container" onclick="document.getElementById('tagInput').focus()">
                    <span class="tag">poetry <button class="tag-remove" onclick="removeTag(this)"><i class="fas fa-times"></i></button></span>
                    <span class="tag">nature <button class="tag-remove" onclick="removeTag(this)"><i class="fas fa-times"></i></button></span>
                    <input type="text" class="tag-input" id="tagInput" placeholder="Add a tag..." onkeydown="handleTagInput(event)">
                </div>
                <div class="suggested-tags">
                    <button class="suggested-tag" onclick="addTag('reflection')">reflection</button>
                    <button class="suggested-tag" onclick="addTag('creative')">creative</button>
                    <button class="suggested-tag" onclick="addTag('thoughts')">thoughts</button>
                    <button class="suggested-tag" onclick="addTag('writing')">writing</button>
                    <button class="suggested-tag" onclick="addTag('life')">life</button>
                    <button class="suggested-tag" onclick="addTag('love')">love</button>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="settings-section">
                <div class="settings-grid">
                    <div class="setting-card">
                        <div class="setting-title">
                            <i class="fas fa-eye"></i> Visibility
                        </div>
                        <select class="setting-select">
                            <option>Public</option>
                            <option>Followers Only</option>
                            <option>Private</option>
                        </select>
                    </div>
                    
                    <div class="setting-card">
                        <div class="setting-title">
                            <i class="fas fa-folder"></i> Collection
                        </div>
                        <select class="setting-select">
                            <option>None</option>
                            <option>Midnight Verses</option>
                            <option>Nature Studies</option>
                            <option>Personal Reflections</option>
                        </select>
                    </div>
                    
                    <div class="setting-card full-width">
                        <div class="setting-title">
                            <i class="fas fa-clock"></i> Schedule
                        </div>
                        <div class="schedule-wrapper">
                            <div class="schedule-toggle">
                                <span>Schedule for later</span>
                                <div class="toggle-switch" id="scheduleToggle" onclick="toggleSchedule()"></div>
                            </div>
                            <div class="datetime-picker" id="datetimePicker">
                                <div class="datetime-field">
                                    <label class="datetime-label">Date</label>
                                    <input type="date" class="datetime-input" id="scheduleDate">
                                </div>
                                <div class="datetime-field">
                                    <label class="datetime-label">Time</label>
                                    <input type="time" class="datetime-input" id="scheduleTime">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-card full-width content-warning-card">
                        <div class="setting-title">
                            <i class="fas fa-exclamation-triangle"></i> Content Warning
                        </div>
                        <div class="cw-toggle-row">
                            <div class="cw-label">
                                <span>Add a content warning</span>
                            </div>
                            <div class="toggle-switch" id="cwToggle" onclick="toggleContentWarning()"></div>
                        </div>
                        <div class="cw-input-wrapper" id="cwInputWrapper">
                            <input type="text" class="cw-input" placeholder="Describe the sensitive content..." id="cwInput">
                            <div class="cw-presets">
                                <button class="cw-preset" onclick="setCW('Sensitive content')">Sensitive</button>
                                <button class="cw-preset" onclick="setCW('Mature themes')">Mature</button>
                                <button class="cw-preset" onclick="setCW('Violence')">Violence</button>
                                <button class="cw-preset" onclick="setCW('Mental health')">Mental Health</button>
                                <button class="cw-preset" onclick="setCW('Strong language')">Language</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="char-count" id="charCount">0 characters</div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <div class="action-left">
                    <button class="btn-secondary">
                        <i class="far fa-save"></i> Save Draft
                    </button>
                    <button class="btn-outline">
                        <i class="far fa-eye"></i> Preview
                    </button>
                </div>
                <button class="btn-publish">
                    <i class="fas fa-paper-plane"></i> Publish Now
                </button>
            </div>
        </div>
    </main>
</div>

<script>
    // Post Type Selection
    function selectType(btn, type) {
        document.querySelectorAll('.type-chip').forEach(t => t.classList.remove('active'));
        btn.classList.add('active');
        
        const placeholders = {
            poem: 'Let your verses flow...',
            journal: 'Dear diary...',
            essay: 'Begin your exploration...',
            screenplay: 'FADE IN:\n\nINT. LOCATION - DAY\n\nAction description...',
            story: 'Once upon a time...',
            letter: 'Dear reader...',
            thought: 'What\'s on your mind?',
            quote: 'Share words that inspire...',
            visual: 'Tell the story behind your images...'
        };
        document.getElementById('contentEditor').placeholder = placeholders[type] || 'Let your thoughts flow freely...';
        
        // Auto-switch format tab for screenplay
        if (type === 'screenplay') {
            document.querySelectorAll('.format-tab').forEach(t => t.classList.remove('active'));
            document.querySelector('.format-tab:nth-child(2)').classList.add('active');
            switchFormatTab('screenplay', document.querySelector('.format-tab:nth-child(2)'));
            selectFont('Courier Prime', null);
            document.getElementById('currentFont').textContent = 'Courier Prime';
        }
    }

    // Format tabs
    function switchFormatTab(tab, btn) {
        document.querySelectorAll('.format-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.format-panel').forEach(p => p.classList.remove('active'));
        if (btn) btn.classList.add('active');
        document.getElementById(tab + 'Panel').classList.add('active');
    }

    // Dropdowns
    function toggleDropdown(id, trigger) {
        const dropdown = document.getElementById(id);
        const isOpen = dropdown.classList.contains('show');
        
        // Close all dropdowns first
        document.querySelectorAll('.dropdown-menu').forEach(d => d.classList.remove('show'));
        document.querySelectorAll('.dropdown-trigger').forEach(t => t.classList.remove('open'));
        
        if (!isOpen) {
            dropdown.classList.add('show');
            trigger.classList.add('open');
        }
    }

    // Close dropdowns on outside click
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.dropdown-wrapper') && !e.target.closest('.color-picker-wrapper')) {
            document.querySelectorAll('.dropdown-menu').forEach(d => d.classList.remove('show'));
            document.querySelectorAll('.dropdown-trigger').forEach(t => t.classList.remove('open'));
        }
    });

    function selectFont(font, btn) {
        document.getElementById('currentFont').textContent = font;
        document.getElementById('contentEditor').style.fontFamily = font;
        if (btn) {
            document.querySelectorAll('#fontDropdown .dropdown-item').forEach(i => i.classList.remove('active'));
            btn.classList.add('active');
        }
        document.getElementById('fontDropdown').classList.remove('show');
    }

    function selectSize(size, btn) {
        document.getElementById('currentSize').textContent = size;
        document.getElementById('contentEditor').style.fontSize = size;
        document.querySelectorAll('#sizeDropdown .dropdown-item').forEach(i => i.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('sizeDropdown').classList.remove('show');
    }

    function selectLineHeight(lh, btn) {
        document.getElementById('currentLine').textContent = lh;
        document.getElementById('contentEditor').style.lineHeight = lh;
        document.querySelectorAll('#lineDropdown .dropdown-item').forEach(i => i.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('lineDropdown').classList.remove('show');
    }

    function selectColor(color, btn) {
        document.getElementById('colorIndicator').style.background = color;
        document.getElementById('contentEditor').style.color = color;
        document.querySelectorAll('.color-swatch').forEach(s => s.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('colorDropdown').classList.remove('show');
    }

    function toggleFormat(btn) {
        btn.classList.toggle('active');
    }

    // Schedule
    function toggleSchedule() {
        const toggle = document.getElementById('scheduleToggle');
        const picker = document.getElementById('datetimePicker');
        toggle.classList.toggle('active');
        picker.classList.toggle('show');
    }

    // Content Warning
    function toggleContentWarning() {
        const toggle = document.getElementById('cwToggle');
        const wrapper = document.getElementById('cwInputWrapper');
        toggle.classList.toggle('active');
        wrapper.classList.toggle('show');
    }

    function setCW(text) {
        document.getElementById('cwInput').value = text;
    }

    // Media Upload
    const mediaUpload = document.getElementById('mediaUpload');
    const mediaGrid = document.getElementById('mediaGrid');
    let mediaFiles = [];

    mediaUpload.addEventListener('dragover', (e) => {
        e.preventDefault();
        mediaUpload.classList.add('dragover');
    });
    mediaUpload.addEventListener('dragleave', () => mediaUpload.classList.remove('dragover'));
    mediaUpload.addEventListener('drop', (e) => {
        e.preventDefault();
        mediaUpload.classList.remove('dragover');
        handleFiles(e.dataTransfer.files);
    });

    function handleFileUpload(event) { handleFiles(event.target.files); }

    function handleFiles(files) {
        Array.from(files).forEach((file) => {
            const reader = new FileReader();
            reader.onload = (e) => {
                const mediaItem = document.createElement('div');
                mediaItem.className = 'media-item';
                const isVideo = file.type.startsWith('video');
                mediaItem.innerHTML = `
                    <span class="media-order">${mediaFiles.length + 1}</span>
                    ${isVideo ? `<video src="${e.target.result}"></video>` : `<img src="${e.target.result}" alt="">`}
                    <div class="media-overlay">
                        <input type="text" class="media-caption-input" placeholder="Add caption...">
                    </div>
                    <button class="media-remove" onclick="removeMedia(this)"><i class="fas fa-times"></i></button>
                `;
                mediaGrid.appendChild(mediaItem);
                mediaFiles.push(file);
            };
            reader.readAsDataURL(file);
        });
    }

    function removeMedia(btn) {
        const item = btn.closest('.media-item');
        const index = Array.from(mediaGrid.children).indexOf(item);
        mediaFiles.splice(index, 1);
        item.remove();
        document.querySelectorAll('.media-item .media-order').forEach((order, i) => order.textContent = i + 1);
    }

    // Voice Recording
    let isRecording = false, recordingTime = 0, recordingInterval;

    function toggleRecording() {
        const btn = document.getElementById('recordBtn');
        const status = document.getElementById('voiceStatus');
        const duration = document.getElementById('voiceDuration');
        
        if (!isRecording) {
            isRecording = true;
            btn.classList.add('recording');
            btn.innerHTML = '<i class="fas fa-stop"></i>';
            status.textContent = 'Recording...';
            recordingInterval = setInterval(() => {
                recordingTime++;
                duration.textContent = `${Math.floor(recordingTime / 60)}:${(recordingTime % 60).toString().padStart(2, '0')}`;
                const waveform = document.getElementById('waveform');
                if (waveform.children.length < 35) {
                    const bar = document.createElement('div');
                    bar.className = 'wave-bar';
                    bar.style.height = `${Math.random() * 35 + 10}px`;
                    waveform.appendChild(bar);
                }
            }, 1000);
        } else {
            isRecording = false;
            btn.classList.remove('recording');
            btn.innerHTML = '<i class="fas fa-microphone"></i>';
            status.textContent = 'Recording saved';
            clearInterval(recordingInterval);
            document.getElementById('recordedAudio').style.display = 'flex';
        }
    }

    let isPlaying = false;
    function togglePlayback() {
        isPlaying = !isPlaying;
        document.getElementById('playIcon').className = isPlaying ? 'fas fa-pause' : 'fas fa-play';
    }

    function deleteRecording() {
        document.getElementById('recordedAudio').style.display = 'none';
        document.getElementById('voiceStatus').textContent = 'Tap to start recording';
        document.getElementById('voiceDuration').textContent = '0:00';
        document.getElementById('waveform').innerHTML = '';
        recordingTime = 0;
    }

    // Tags
    function handleTagInput(event) {
        if (event.key === 'Enter' && event.target.value.trim()) {
            addTag(event.target.value.trim());
            event.target.value = '';
        }
    }

    function addTag(text) {
        const container = document.querySelector('.tags-container');
        const input = document.getElementById('tagInput');
        const tag = document.createElement('span');
        tag.className = 'tag';
        tag.innerHTML = `${text} <button class="tag-remove" onclick="removeTag(this)"><i class="fas fa-times"></i></button>`;
        container.insertBefore(tag, input);
    }

    function removeTag(btn) { btn.closest('.tag').remove(); }

    // Character Count
    const contentEditor = document.getElementById('contentEditor');
    const charCount = document.getElementById('charCount');

    contentEditor.addEventListener('input', () => {
        const count = contentEditor.value.length;
        charCount.textContent = `${count.toLocaleString()} characters`;
        charCount.className = count > 10000 ? 'char-count danger' : count > 8000 ? 'char-count warning' : 'char-count';
        contentEditor.style.height = 'auto';
        contentEditor.style.height = contentEditor.scrollHeight + 'px';
    });
</script>
</body>
</html>






